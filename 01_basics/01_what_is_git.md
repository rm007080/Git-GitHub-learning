# Gitとは？

## 学習時間の目安：15分

## 目次
1. [バージョン管理とは](#バージョン管理とは)
2. [Gitの特徴](#gitの特徴)
3. [Gitの仕組み](#gitの仕組み)
4. [Gitを使うメリット](#gitを使うメリット)
5. [理解度チェック](#理解度チェック)

---

## バージョン管理とは

### ファイルの履歴を管理する仕組み

プログラムを書いていると、こんな経験はありませんか？

- 「昨日書いたコードの方が良かった...」
- 「いつからこのバグが入ったんだろう？」
- 「複数人で同じファイルを編集したら、誰かの変更が消えた！」

こういった問題を解決するのが**バージョン管理システム**です。

### バージョン管理がない場合

```
project_final.txt
project_final_2.txt
project_final_real.txt
project_final_real_this_time.txt
project_final_real_this_time_v2.txt
```

このようなファイル名の管理は、すぐに混乱してしまいます。

### バージョン管理がある場合

Gitを使うと、ファイルの変更履歴を**自動的に記録**し、以下のことができます：

- 過去のどの時点の状態にも戻れる
- 誰が・いつ・何を変更したかが分かる
- 複数人での作業を安全に行える

---

## Gitの特徴

### 1. 分散型バージョン管理システム

**集中型** vs **分散型**

```
【集中型】
       サーバー
         ↓
    ┌────┴────┐
    ↓         ↓
 開発者A    開発者B

※ サーバーがないと作業できない

【分散型（Git）】
    サーバー
       ↓
    ┌──┴──┐
    ↓      ↓
 開発者A  開発者B
  (完全な   (完全な
   履歴)     履歴)

※ 各自が完全な履歴を持つ
※ オフラインでも作業可能
```

### 2. 高速

Gitは多くの操作をローカルで実行するため、非常に高速です。

### 3. データの完全性

Gitはすべてのファイルをチェックサム（SHA-1ハッシュ）で管理しているため、データの破損を検出できます。

### 4. ブランチ機能

新機能の開発や実験を、本番コードに影響を与えずに行えます。

---

## Gitの仕組み

### 3つの状態

Gitでは、ファイルは3つの状態のいずれかにあります：

```
┌──────────────┐
│ ワーキング   │ ← ここでファイルを編集
│ ディレクトリ │
└──────┬───────┘
       │ git add
       ↓
┌──────────────┐
│ ステージング │ ← コミット準備エリア
│ エリア       │
└──────┬───────┘
       │ git commit
       ↓
┌──────────────┐
│ リポジトリ   │ ← 履歴として保存
│ (.git)       │
└──────────────┘
```

#### 1. ワーキングディレクトリ（Working Directory）
- 実際にファイルを編集する場所
- 普段作業しているフォルダのこと

#### 2. ステージングエリア（Staging Area / Index）
- コミットする変更を準備する場所
- 「次のコミットに含めたい変更」を選択できる

#### 3. リポジトリ（Repository）
- 変更履歴が保存される場所
- `.git`ディレクトリに保存されている

### スナップショットベースの管理

多くのバージョン管理システムは「差分」を保存しますが、Gitは「スナップショット」を保存します。

```
【差分ベース】
バージョン1: ファイル全体
バージョン2: +変更部分
バージョン3: +変更部分

【スナップショットベース（Git）】
バージョン1: ファイル全体のスナップショット
バージョン2: ファイル全体のスナップショット
バージョン3: ファイル全体のスナップショット
※変更されていないファイルは参照のみ
```

---

## Gitを使うメリット

### 1. 変更履歴の完全な追跡

いつ、誰が、何を、なぜ変更したかを記録できます。

```bash
# 変更履歴を見る例
commit a1b2c3d4
Author: Tanaka Taro <tanaka@example.com>
Date:   2024-11-12 10:30:00

    ログイン機能のバグを修正

    パスワードの検証ロジックに問題があったため修正
```

### 2. 安全な実験

ブランチを使って、本番コードに影響を与えずに新機能を開発できます。

### 3. チーム開発の効率化

- 複数人が同時に作業できる
- 変更を簡単にマージ（統合）できる
- コードレビューがしやすい

### 4. バックアップとしての役割

リモートリポジトリ（GitHub等）に保存することで、PCが壊れてもコードが失われません。

### 5. オープンソース開発への参加

世界中のオープンソースプロジェクトのほとんどがGitを使用しています。

---

## 理解度チェック

以下の質問に答えられるか確認しましょう：

1. バージョン管理システムとは何ですか？
2. Gitの「分散型」とはどういう意味ですか？
3. Gitでファイルが通る3つの状態を説明してください
4. Gitを使う主なメリットを3つ挙げてください
5. Gitはデータをどのように保存しますか？（差分 vs スナップショット）

---

## 次のステップ

基本概念を理解したら、次は実際にGitを使えるように環境を設定しましょう！

👉 [02. 環境設定](./02_setup.md)

---

## 参考資料

- [Pro Git Book（日本語版）](https://git-scm.com/book/ja/v2)
- [Git公式サイト](https://git-scm.com/)
- [サル先生のGit入門](https://backlog.com/ja/git-tutorial/)
